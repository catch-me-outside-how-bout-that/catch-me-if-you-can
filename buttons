from machine import Pin 
from time import sleep

button_blue = Pin("A0", Pin.IN, Pin.PULL_UP) 
button_red = Pin("A1", Pin.IN, Pin.PULL_UP)

max_use = 2
used_red = 0
used_blue = 0

#Zustand speichern um zu sehen ob Button gedrückt wurde
last_used_red = 1
last_used_blue = 1

def reset_powerups():
    #Powerups für neues Spiel zurücksetzen
    global uses_red, uses_blue
    uses_red = 0
    uses_blue = 0
    print("Neues Spiel! Powerups verfügbar: 2/2 + 2/2")

while True:
  current_red = button_red.value() #1 = nicht gedrückt , 0 = gedrückt
  current_blue = button_blue.value()
  
  #red button - unsichtbar
  if last_used_red == 1 and current_red == 0: #Button wurde gedrückt
    if used_red < max_use:
      used_red += 1
      print("Unsichtbartrank getrunken, du bist für 5 Sekunden unsichtbar")
    else:
      print("Unsichtbartrank leer! 2/2")
            
  #blue button - Speed-Boost
  if last_used_blue == 1 and current_blue == 0:
    if used_blue < max_use:
      used_blue += 1
      print ("Speed-boost aktiviert für 3 Sekunden")
    else:
      print("Speed-boost aufgebraucht! 2/2")

  last_used_red  = current_red
  last_used_blue = current_blue

  sleep(0.02)
